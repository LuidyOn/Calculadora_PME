<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Simulador Moderfrota</title>
    <link rel="stylesheet" href="../style/style.css">
</head>
<body>
    <div id="capture" class="simulator-container">
        <header>
            <div class="logo">
                <span class="logo-main">Simulador de Financiamento</span>
                <span class="logo-sub">PME</span>
            </div>
            <div class="calculator-selector">
                <span id="current-calculator">Simulador Moderfrota</span> &#9662;
                <div class="calculator-dropdown">
                    <a href="../index.html">Página Inicial</a>
                    <a href="pronaf.html">Simulador AG: Pronaf</a>
                    <a href="moderfrota.html">Simulador Moderfrota</a>
                    <a href="tfbd.html">Simulador TFBD Rural</a>
                </div>
            </div>
        </header>

        <form id="loan-form">
            <div class="form-grid">
                <div class="form-column">
                    <div class="form-group">
                        <label for="tipoFinanciamento">TIPO DE FINANCIAMENTO:</label>
                        <select id="tipoFinanciamento">
                            <option value="PF" selected>PF</option>
                            <option value="PJ">PJ</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="liberacao">LIBERAÇÃO:</label>
                        <input type="date" id="liberacao">
                    </div>
                    <div class="form-group">
                        <label for="produto">PRODUTO:</label>
                        <select id="produto">
                            <option value="MODERFROTA NOVOS" selected>MODERFROTA NOVOS</option>
                            <option value="MODERFROTA USADOS">MODERFROTA USADOS</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="empresa">EMPRESA:</label>
                        <select id="empresa">
                            <option value="MPME" selected>MPME</option>
                            <option value="GDE">GDE</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="valorBem">VALOR DO BEM:</label>
                        <input type="text" id="valorBem" value="1.000.000,00" inputmode="numeric">
                    </div>
                    <div class="form-group">
                        <label for="percEntrada">PORCENTAGEM DE ENTRADA:</label>
                        <input type="number" id="percEntrada" value="0"> 
                    </div>

                    <div class="form-group read-only">
                        <label for="valorEntrada">ENTRADA:</label>
                        <input type="text" id="valorEntrada" readonly> 
                    </div>

                    <div class="form-group read-only">
                        <label for="valorFinanciado">VALOR FINANCIADO:</label>
                        <input type="text" id="valorFinanciado" readonly>
                    </div>
                </div>
                <div class="form-column">
                    <div class="form-group read-only">
                        <label for="segmentoCliente">SEGMENTO DO CLIENTE:</label>
                        <input type="text" id="segmentoCliente" value="RURAL" readonly>
                    </div>
                    <div class="form-group read-only">
                        <label for="segmento">SEGMENTO:</label>
                        <input type="text" id="segmento" value="AG" readonly>
                    </div>
                    <div class="form-group">
                        <label for="periodicidade">PERIODICIDADE:</label>
                        <select id="periodicidade">
                            <option value="ANUAL" selected>ANUAL</option>
                            <option value="SEMESTRAL">SEMESTRAL</option>
                            <option value="MENSAL">MENSAL</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="parcelas">PARCELAS:</label>
                        <input type="number" id="parcelas" value="7">
                    </div>
                    <div class="form-group read-only">
                        <label for="parcelasPrincipal">PARCELAS DE PRINCIPAL:</label>
                        <input type="text" id="parcelasPrincipal" readonly>
                    </div>
                    <div class="form-group">
                        <label for="taxaAA">TAXA (A.A%):</label>
                        <input type="number" id="taxaAA" value="13.50" step="0.1">
                    </div>
                    <div class="form-group read-only">
                        <label for="cetAA">CET (a.a.%):</label> 
                        <input type="text" id="cetAA" readonly> 
                    </div>
                    <div class="form-group read-only">
                        <label for="cetAM">CET (A.M.%):</label>
                        <input type="text" id="cetAM" readonly>
                    </div>
                </div>
            </div>
            <div class="form-row">
                <div class="form-group">
                    <label for="primeiroVencimento">PRIMEIRO VENCIMENTO:</label>
                    <input type="date" id="primeiroVencimento">
                </div>
                <div class="form-group-inline">
                    <label>CARÊNCIA (EM MESES)</label>
                    <input type="number" id="carencia" readonly>
                </div>
            </div>
        </form>
        <div class="observations">
            <p><strong>**OBSERVAÇÕES**</strong></p>
            <ul>
                <li>O fluxo apresenta valores aproximados, que poderão variar de acordo com cada operação e o período de carência pactuado.</li>
                <li>Os valores apresentados não são vinculativos.</li>
                <li>Simulação sujeita a aprovação de crédito conforme política do agente financeiro.</li>
                <li>Os campos em cinza devem ser preenchidos para completa exibição do fluxo.</li>
                <li>As condições comerciais disponíveis informadas nesta proposta estão sujeitas a alteração a qualquer momento e sem aviso prévio.</li>
            </ul>
        </div>
        <div class="table-wrapper">
            <div class="table-container">
                <table>
                    <thead>
                        <tr>
                            <th>PARCELA</th>
                            <th>VENCIMENTO</th>
                            <th>DIAS</th>
                            <th>SALDO DEVEDOR</th>
                            <th>JUROS</th>
                            <th>PRINCIPAL</th>
                            <th>TOTAL</th>
                        </tr>
                    </thead>
                    <tbody id="amortization-body"></tbody>
                    <tfoot id="amortization-foot">
                        <tr class="final-total-row"> <td colspan="4">TOTAL À DIREITA →</td> 
                            <td id="total-juros"></td> 
                            <td id="total-principal"></td>
                            <td id="total-geral"></td>
                        </tr>
                    </tfoot>
                </table>
            </div>
        </div>
        <div class="actions">
            <button id="btn-gerar-pdf">Gerar PDF</button>
        </div>
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="../script/moderfrota.js"></script>

    <div id="pdf-modal-overlay" class="modal-overlay">
    <div class="modal-content">
        <h2>Informações para o PDF</h2>
        <p>Por favor, preencha os campos abaixo para gerar o documento.</p>
        <div class="form-group">
            <label for="vendedor-name">Seu Nome (Vendedor):</label>
            <input type="text" id="vendedor-name" placeholder="Digite seu nome completo">
        </div>
        <div class="form-group">
            <label for="cliente-name">Nome do Cliente:</label>
            <input type="text" id="cliente-name" placeholder="Digite o nome completo do cliente">
        </div>
        <div class="modal-actions">
            <button id="btn-cancel-pdf">Cancelar</button>
            <button id="btn-confirm-pdf" class="primary">Confirmar e Gerar PDF</button>
        </div>
    </div>
    </div>

</body>
</html>
